import{r as a,a as o,o as e,u as t,b as s,c as l,d as n,e as d,f as i,g as r,t as c,h as u,w as m,i as p,j as v,v as b}from"./index.aa9d4a35.js";import{_ as g}from"./logo.7db20af4.js";var f={setup(){const l=a({nomor_hp:"",password:"",device_token:"",latitude:"",longitude:"",loc:!0}),n=o([]),d=t();function i(){navigator.geolocation?navigator.geolocation.getCurrentPosition(r,c):l.loc=!1}function r(a){l.loc=!0,l.latitude=a.coords.latitude,l.longitude=a.coords.longitude}function c(a){l.loc=!1}return e((()=>{i()})),{user:l,validation:n,router:d,getLocation:i,login:function(){l.device_token=localStorage.getItem("device_token"),s.post("login",l).then((a=>{localStorage.setItem("myapptoken",a.data.token),localStorage.setItem("nomor_hp",a.data.user.nomor_hp),localStorage.setItem("device_token",a.data.token),console.log(a.data),d.push({name:"opencode.index"})})).catch((a=>{n.value=a.response.data}))}}}};const h={key:0},y={class:"container my-5"},k={class:"row justify-content-center"},_={class:"col-12"},w={class:"card rounded shadow"},x=i("div",{class:"card-header"},[i("img",{src:g,class:"img-thumbnail",alt:"SSI Open Code Inbox"}),r(" SSI Open Code Inbox "),i("small",{class:"text-muted"},"V1.0")],-1),I={class:"card-body"},S={class:"tab-content",id:"myTabContent"},C={class:"tab-pane fade show active",id:"home",role:"tabpanel","aria-labelledby":"home-tab"},V={key:0,class:"alert alert-danger alert-dismissible",role:"alert"},j=i("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1),U={class:"mb-3"},P=r("Nomor HP"),L={key:0,class:"text-danger"},O={class:"mb-3"},z=r("Password"),H={key:0,class:"text-danger"},M={class:"mb-3"},N={class:"mb-3"},T=i("button",{class:"btn btn-outline-primary"},[i("i",{class:"bi bi-box-arrow-in-right"}),r(" Login ")],-1),q={key:1};f.render=function(a,o,e,t,s,g){const f=l("lable");return t.user.loc?(n(),d("div",h,[i("div",y,[i("div",k,[i("div",_,[i("div",w,[x,i("div",I,[i("div",S,[i("div",C,[t.validation.message?(n(),d("div",V,[r(c(t.validation.message)+" ",1),j])):u("",!0),i("form",{onSubmit:o[5]||(o[5]=m((a=>t.login()),["prevent"]))},[i("div",U,[i(f,{class:"form-lable"},{default:p((()=>[P])),_:1}),v(i("input",{type:"text",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=a=>t.user.nomor_hp=a)},null,512),[[b,t.user.nomor_hp]]),t.validation.nomor_hp?(n(),d("div",L,c(t.validation.nomor_hp[0]),1)):u("",!0)]),i("div",O,[i(f,{class:"form-lable"},{default:p((()=>[z])),_:1}),v(i("input",{type:"password",class:"form-control","onUpdate:modelValue":o[2]||(o[2]=a=>t.user.password=a)},null,512),[[b,t.user.password]]),t.validation.password?(n(),d("div",H,c(t.validation.password[0]),1)):u("",!0)]),i("div",M,[v(i("input",{type:"hidden",class:"form-control","onUpdate:modelValue":o[3]||(o[3]=a=>t.user.latitude=a),readonly:""},null,512),[[b,t.user.latitude]])]),i("div",N,[v(i("input",{type:"hidden",class:"form-control","onUpdate:modelValue":o[4]||(o[4]=a=>t.user.longitude=a),readonly:""},null,512),[[b,t.user.longitude]])]),T],32)])])])])])])])])):(n(),d("div",q,"Mohon Izinkan akses lokasi ðŸ˜¢"))};export default f;
