import{r as a,a as s,o,b as e,u as t,c as l,d as r,e as n,f as d,w as i,h as c,i as p,j as u,v as m,t as b,g as v}from"./index.aa9d4a35.js";import{_ as f}from"./logo.7db20af4.js";var g={setup(){const l=a({nomor_hp:"",nama:"",old_password:"",password:"",password_confirmation:"",sentra_operasi:""}),r=s([]),n=t();return o((()=>{e.defaults.headers.common.Authorization=`Bearer ${localStorage.getItem("myapptoken")}`,e.get("show_user?nomor_hp="+localStorage.getItem("nomor_hp")).then((a=>{l.nomor_hp=a.data.data.nomor_hp,l.nama=a.data.data.nama,l.password="",l.password_confirmation=""})).catch((a=>{console.log(a.response.data)}))})),{user:l,validation:r,router:n,back:function(){n.push({name:"opencode.index"})},store:function(){e.post("update_user",l).then((a=>{!0===a.data.success&&(r.value=a.data,alert(a.data.message),localStorage.removeItem("myapptoken"),n.push({name:"user.login"}))})).catch((a=>{r.value=a.response.data}))}}}};const h={class:"container my-5"},w={class:"row justify-content-center"},_={class:"col-12"},y={class:"d-flex bd-highlight"},k=d("div",{class:"p-2 flex-grow-1 bd-highlight"},[d("img",{src:f,class:"img-thumbnail",alt:"SSI Open Code Inbox"})],-1),x={class:"btn-group p-2 bd-highlight",role:"group","aria-label":"Basic example"},S=d("i",{class:"bi bi-arrow-90deg-left"},null,-1),U=v(" Back "),j=d("i",{class:"bi bi-box-arrow-right"},null,-1),C=v(" Logout "),I={class:"card rounded shadow"},P=d("div",{class:"card-header"}," Ganti Password dan Nama Anda ",-1),V={class:"card-body"},B={class:"tab-pane show active",id:"register",role:"tabpanel","aria-labelledby":"profile-tab"},A={key:0,class:"alert alert-info alert-dismissible",role:"alert"},L=v(" Update Password berhasil, silahkan login ulang untuk melanjutkan !!! "),N=d("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1),z={class:"mb-3"},G=v("Nama"),O={key:0,class:"text-danger"},R={class:"mb-3"},$=v("Password Lama"),q={key:0,class:"text-danger"},D={class:"mb-3"},E=v("Password"),F={key:0,class:"text-danger"},H={class:"mb-3"},J=v("Password Confirmation"),K={key:0,class:"text-danger"},M=d("button",{class:"btn btn-outline-primary"},"Submit",-1);g.render=function(a,s,o,e,t,v){const f=l("lable");return r(),n("div",h,[d("div",w,[d("div",_,[d("div",y,[k,d("div",x,[d("button",{class:"btn btn-outline-primary",onClick:s[1]||(s[1]=i((a=>e.back()),["prevent"]))},[S,U]),d("button",{class:"btn btn-outline-primary",onClick:s[2]||(s[2]=i((s=>a.logout()),["prevent"]))},[j,C])])]),d("div",I,[P,d("div",V,[d("div",B,[e.validation.success?(r(),n("div",A,[L,N])):c("",!0),d("form",{onSubmit:s[8]||(s[8]=i((a=>e.store()),["prevent"])),id:"formRegister"},[d("div",z,[d(f,{class:"form-lable"},{default:p((()=>[G])),_:1}),u(d("input",{type:"hidden","onUpdate:modelValue":s[3]||(s[3]=a=>e.user.nomor_hp=a)},null,512),[[m,e.user.nomor_hp]]),u(d("input",{type:"text",class:"form-control","onUpdate:modelValue":s[4]||(s[4]=a=>e.user.nama=a)},null,512),[[m,e.user.nama]]),e.validation.nama?(r(),n("div",O,b(e.validation.nama[0]),1)):c("",!0)]),d("div",R,[d(f,{class:"form-lable"},{default:p((()=>[$])),_:1}),u(d("input",{type:"password",class:"form-control","onUpdate:modelValue":s[5]||(s[5]=a=>e.user.old_password=a)},null,512),[[m,e.user.old_password]]),e.validation.old_password?(r(),n("div",q,b(e.validation.old_password[0]),1)):c("",!0)]),d("div",D,[d(f,{class:"form-lable"},{default:p((()=>[E])),_:1}),u(d("input",{type:"password",class:"form-control","onUpdate:modelValue":s[6]||(s[6]=a=>e.user.password=a)},null,512),[[m,e.user.password]]),e.validation.password?(r(),n("div",F,b(e.validation.password[0]),1)):c("",!0)]),d("div",H,[d(f,{class:"form-lable"},{default:p((()=>[J])),_:1}),u(d("input",{type:"password",class:"form-control","onUpdate:modelValue":s[7]||(s[7]=a=>e.user.password_confirmation=a)},null,512),[[m,e.user.password_confirmation]]),e.validation.password_confirmation?(r(),n("div",K,b(e.validation.password_confirmation[0]),1)):c("",!0)]),M],32)])])])])])])};export default g;
