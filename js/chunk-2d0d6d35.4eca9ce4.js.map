{"version":3,"sources":["webpack:///./src/views/Register.vue","webpack:///./src/views/Register.vue?be94"],"names":["class","src","alt","role","aria-label","id","aria-labelledby","type","data-bs-dismiss","back","logout","validation","success","store","user","nomor_hp","nama","old_password","password","password_confirmation","setup","sentra_operasi","router","a","post","then","response","data","value","alert","message","localStorage","removeItem","push","name","catch","err","defaults","headers","common","getItem","get","result","console","log","render"],"mappings":"4IACQA,MAAM,kB,GACDA,MAAM,8B,GACFA,MAAM,U,GACFA,MAAM,uB,EACP,eAEM,OAFDA,MAAM,gCAA8B,CACrC,eAAqE,OAAhEC,IAAI,YAAYD,MAAM,gBAAgBE,IAAI,0B,MAG9CF,MAAM,6BAA6BG,KAAK,QAAQC,aAAW,iB,EAEzD,eAAsC,KAAnCJ,MAAM,0BAAwB,S,iBAAK,U,GAAtC,E,KAIC,eAAqC,KAAlCA,MAAM,yBAAuB,S,iBAAK,Y,GAArC,E,MAOPA,MAAM,uB,EACP,eAEM,OAFDA,MAAM,eAAc,kCAEzB,G,GACKA,MAAM,a,GACCA,MAAM,uBAAuBK,GAAG,WAAWF,KAAK,WAAWG,kBAAgB,e,SAC5CN,MAAM,qCAAqCG,KAAK,S,iBAAQ,0E,EAEnF,eAA4F,UAApFI,KAAK,SAASP,MAAM,YAAYQ,kBAAgB,QAAQJ,aAAW,S,cAA3E,G,GAGKJ,MAAM,Q,iBACmB,Q,SAGEA,MAAM,e,GAIjCA,MAAM,Q,iBACmB,iB,SAEUA,MAAM,e,GAIzCA,MAAM,Q,iBACmB,Y,SAEMA,MAAM,e,GAIrCA,MAAM,Q,iBACmB,yB,SAEmBA,MAAM,e,EAevD,eAAuD,UAA/CA,MAAM,2BAA0B,UAAM,G,8EAxE/E,eAiFM,MAjFN,EAiFM,CAhFD,eA+EM,MA/EN,EA+EM,CA9EF,eA6EM,MA7EN,EA6EM,CA5EF,eAiBM,MAjBN,EAiBM,CAhBF,EAIA,eAUM,MAVN,EAUM,CATF,eAGS,UAHDA,MAAM,0BAA2B,QAAK,+CAAU,EAAAS,SAAI,e,GAI5D,eAGS,UAHDT,MAAM,0BAA2B,QAAK,+CAAU,EAAAU,WAAM,e,OAQtE,eAyDM,MAzDN,EAyDM,CAxDF,EAGA,eAoDM,MApDN,EAoDM,CAnDC,eAiDO,MAjDP,EAiDO,CAhDS,EAAAC,WAAWC,S,iBAAtB,eAGM,MAHN,EAGM,I,sBACN,eA0CO,QA1CA,SAAM,+CAAU,EAAAC,UAAK,cAAIR,GAAG,gB,CAC/B,eAOM,MAPN,EAOM,CANF,eAAsC,GAA/BL,MAAM,cAAY,C,wBAAC,iBAAI,C,2BAC9B,eAA6C,SAAtCO,KAAK,S,qDAAkB,EAAAO,KAAKC,SAAQ,K,mBAAb,EAAAD,KAAKC,Y,eACnC,eAA4D,SAArDR,KAAK,OAAOP,MAAM,e,qDAAwB,EAAAc,KAAKE,KAAI,K,mBAAT,EAAAF,KAAKE,QAC3C,EAAAL,WAAWK,M,iBAAtB,eAEM,MAFN,EAEM,eADA,EAAAL,WAAWK,KAAI,Q,wBAGzB,eAMM,MANN,EAMM,CALF,eAA+C,GAAxChB,MAAM,cAAY,C,wBAAC,iBAAa,C,2BACvC,eAAwE,SAAjEO,KAAK,WAAWP,MAAM,e,qDAAwB,EAAAc,KAAKG,aAAY,K,mBAAjB,EAAAH,KAAKG,gBAC/C,EAAAN,WAAWM,c,iBAAtB,eAEM,MAFN,EAEM,eADA,EAAAN,WAAWM,aAAY,Q,wBAGjC,eAMM,MANN,EAMM,CALF,eAA0C,GAAnCjB,MAAM,cAAY,C,wBAAC,iBAAQ,C,2BAClC,eAAoE,SAA7DO,KAAK,WAAWP,MAAM,e,qDAAwB,EAAAc,KAAKI,SAAQ,K,mBAAb,EAAAJ,KAAKI,YAC/C,EAAAP,WAAWO,U,iBAAtB,eAEM,MAFN,EAEM,eADA,EAAAP,WAAWO,SAAQ,Q,wBAG7B,eAMM,MANN,EAMM,CALF,eAAuD,GAAhDlB,MAAM,cAAY,C,wBAAC,iBAAqB,C,2BAC/C,eAAiF,SAA1EO,KAAK,WAAWP,MAAM,e,qDAAwB,EAAAc,KAAKK,sBAAqB,K,mBAA1B,EAAAL,KAAKK,yBAC/C,EAAAR,WAAWQ,uB,iBAAtB,eAEM,MAFN,EAEM,eADA,EAAAR,WAAWQ,sBAAqB,Q,wBAc1C,G,qDAiBtB,GACVC,MADU,WAGP,IAAMN,EAAO,eAAS,CAClBC,SAAS,GACTC,KAAK,GACLC,aAAa,GACbC,SAAS,GACTC,sBAAsB,GACtBE,eAAe,KAKbV,EAAY,eAAI,IAChBW,EAAQ,iBAiBd,SAAST,IACL,EAAAU,EAAMC,KACF,cACAV,GAEHW,MAAK,SAACC,IACwB,IAAxBA,EAASC,KAAKf,UACfD,EAAWiB,MAAMF,EAASC,KAC1BE,MAAMH,EAASC,KAAKG,SACpBC,aAAaC,WAAW,cACxBV,EAAOW,KAAK,CACTC,KAAK,mBAGXC,OAAM,SAACC,GACNzB,EAAWiB,MAAMQ,EAAIV,SAASC,QAItC,SAASlB,IAERa,EAAOW,KAAK,CACRC,KAAK,mBAYT,OAjDA,gBAAU,WAEN,EAAAX,EAAMc,SAASC,QAAQC,OAAO,iBAA9B,iBAAyDR,aAAaS,QAAQ,eAC9E,EAAAjB,EAAMkB,IAAI,sBAAsBV,aAAaS,QAAQ,aACpDf,MAAK,SAACiB,GACH5B,EAAKC,SAAS2B,EAAOf,KAAKA,KAAKZ,SAC/BD,EAAKE,KAAK0B,EAAOf,KAAKA,KAAKX,KAC3BF,EAAKI,SAAS,GACdJ,EAAKK,sBAAsB,MAE5BgB,OAAM,SAACC,GACNO,QAAQC,IAAIR,EAAIV,SAASC,YAsC1B,CACHb,OAEAH,aACAW,SACAb,OACAI,WC/JZ,EAAOgC,OAASA,EAED","file":"js/chunk-2d0d6d35.4eca9ce4.js","sourcesContent":["<template>\n   <div class=\"container my-5\">\n        <div class=\"row justify-content-center\">\n            <div class=\"col-12\">\n                <div class=\"d-flex bd-highlight\">\n                    <div class=\"p-2 flex-grow-1 bd-highlight\">\n                        <img src=\"/logo.png\" class=\"img-thumbnail\" alt=\"SSI Open Code Inbox\">                           \n                    </div>\n\n                    <div class=\"btn-group p-2 bd-highlight\" role=\"group\" aria-label=\"Basic example\">                       \n                        <button class=\"btn btn-outline-primary\" @click.prevent=\"back()\">\n                           <i class=\"bi bi-arrow-90deg-left\"></i>\n                            Back\n                        </button>                                             \n                        <button class=\"btn btn-outline-primary\" @click.prevent=\"logout()\">\n                            <i class=\"bi bi-box-arrow-right\"></i>\n                            Logout                   \n                        </button>\n                       \n                    </div>\n                                    \n                </div>              \n                <div class=\"card rounded shadow\">\n                    <div class=\"card-header\">\n                        Ganti Password dan Nama Anda\n                    </div>\n                    <div class=\"card-body\">                          \n                           <div class=\"tab-pane show active\" id=\"register\" role=\"tabpanel\" aria-labelledby=\"profile-tab\"> \n                                <div v-if=\"validation.success\" class=\"alert alert-info alert-dismissible\" role=\"alert\">\n                                     Update Password berhasil, silahkan login ulang untuk melanjutkan !!!\n                                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\n                                </div>                           \n                                <form @submit.prevent=\"store()\" id=\"formRegister\">\n                                    <div class=\"mb-3\">\n                                        <lable class=\"form-lable\">Nama</lable>\n                                        <input type=\"hidden\" v-model=\"user.nomor_hp\">\n                                        <input type=\"text\" class=\"form-control\" v-model=\"user.nama\">\n                                        <div v-if=\"validation.nama\" class=\"text-danger\">\n                                            {{validation.nama[0]}}\n                                        </div>\n                                    </div>\n                                    <div class=\"mb-3\">\n                                        <lable class=\"form-lable\">Password Lama</lable>\n                                        <input type=\"password\" class=\"form-control\" v-model=\"user.old_password\">\n                                        <div v-if=\"validation.old_password\" class=\"text-danger\">\n                                            {{validation.old_password[0]}}\n                                        </div>\n                                    </div>                                    \n                                    <div class=\"mb-3\">\n                                        <lable class=\"form-lable\">Password</lable>\n                                        <input type=\"password\" class=\"form-control\" v-model=\"user.password\">\n                                        <div v-if=\"validation.password\" class=\"text-danger\">\n                                            {{validation.password[0]}}\n                                        </div>\n                                    </div>\n                                    <div class=\"mb-3\">\n                                        <lable class=\"form-lable\">Password Confirmation</lable>\n                                        <input type=\"password\" class=\"form-control\" v-model=\"user.password_confirmation\">\n                                        <div v-if=\"validation.password_confirmation\" class=\"text-danger\">\n                                            {{validation.password_confirmation[0]}}\n                                        </div>\n                                    </div>\n                                    <!--\n                                    <div class=\"mb-3\">\n                                        <lable class=\"form-lable\">Sentra Operasi</lable>\n                                        <select class=\"form-select\" v-model=\"user.sentra_operasi\">\n                                            <option v-for=\"(sop,index) in so.data\" :key=\"index\" :value=\"sop.id\" v-text=\"sop.nama\"></option>\n                                        </select>\n                                        <div v-if=\"validation.sentra_operasi\" class=\"text-danger\">\n                                            {{validation.sentra_operasi[0]}}\n                                        </div>\n                                    </div>     \n                                    -->                                                                 \n                                    <button class=\"btn btn-outline-primary\">Submit</button>\n                                </form>\n                                            \n                            </div>  \n                        \n                    </div>\n                </div>\n            </div>           \n        </div>    \n   </div>\n</template>\n<script>\nimport {reactive,onMounted,ref} from 'vue'\nimport {useRouter} from 'vue-router'\nimport axios from 'axios'\n\n\nexport default{\n    setup(){        \n        //data binding\n       const user = reactive({\n           nomor_hp:'',\n           nama:'',\n           old_password:'',\n           password:'',\n           password_confirmation:'',\n           sentra_operasi:''         \n       });\n\n       //let so =ref([]);\n\n       const validation =ref([]);\n       const router =useRouter();\n\n        onMounted(() => {\n           // getSentra();\n            axios.defaults.headers.common[\"Authorization\"]=`Bearer ${localStorage.getItem('myapptoken')}`;  \n            axios.get('show_user?nomor_hp='+localStorage.getItem('nomor_hp'))\n            .then((result)=>{\n                user.nomor_hp=result.data.data.nomor_hp;\n                user.nama=result.data.data.nama;\n                user.password='';\n                user.password_confirmation='';\n                //user.sentra_operasi=result.data.data.sentra_operasi;               \n            }).catch((err)=>{\n                console.log(err.response.data)\n            })\n       });\n\n       function store(){\n           axios.post(\n               'update_user',\n               user\n           )\n           .then((response) => {   \n               if(response.data.success===true){           \n                 validation.value=response.data;\n                 alert(response.data.message)\n                 localStorage.removeItem('myapptoken');\n                 router.push({\n                    name:'user.login'\n                 });\n               }\n           }).catch((err) => {\n               validation.value=err.response.data;\n           });\n       };\n\n       function back(){\n          \n        router.push({\n            name:'opencode.index'\n        });\n              \n       };\n\n    //    function getSentra(){\n    //         axios.defaults.headers.common[\"Authorization\"]=`Bearer ${localStorage.getItem('myapptoken')}`;       \n    //         axios.get('get_sentra')\n    //         .then((result)=>{so.value=result.data}).catch((err)=>{err.console.log(err.response)});\n    //     }\n\n          \n        return {\n            user,\n            //so,\n            validation,\n            router,\n            back,\n            store\n        }\n    }\n}\n</script>\n","import { render } from \"./Register.vue?vue&type=template&id=4ab9ac62\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}