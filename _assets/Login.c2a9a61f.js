import{r as a,a as e,o,u as t,b as s,c as l,d as n,e as d,f as i,g as r,t as c,h as u,w as m,i as p,j as b,v}from"./index.1cc8ee2c.js";import{_ as g}from"./logo.7db20af4.js";var f={setup(){const l=a({nomor_hp:"",password:"",device_token:"",latitude:"",longitude:"",loc:!0}),n=e([]),d=t();function i(){navigator.geolocation?navigator.geolocation.getCurrentPosition(r,c):l.loc=!1}function r(a){l.loc=!0,l.latitude=a.coords.latitude,l.longitude=a.coords.longitude}function c(a){l.loc=!1}return o((()=>{i()})),{user:l,validation:n,router:d,getLocation:i,login:function(){l.device_token=localStorage.getItem("device_token"),s.post("login",l).then((a=>{localStorage.setItem("myapptoken",a.data.token),localStorage.setItem("nomor_hp",a.data.user.nomor_hp),localStorage.setItem("device_token",a.data.token),console.log(a.data),d.push({name:"opencode.index"})})).catch((a=>{n.value=a.response.data}))}}}};const h={key:0},y={class:"container my-5"},_={class:"row justify-content-center"},k={class:"col-12"},w={class:"card rounded shadow"},x=i("div",{class:"card-header"},[i("img",{src:g,class:"img-thumbnail",alt:"SSI Open Code Inbox"}),r(" SSI Open Code Inbox "),i("small",{class:"text-muted"},"V1.0")],-1),I={class:"card-body"},S={class:"tab-content",id:"myTabContent"},C={class:"tab-pane fade show active",id:"home",role:"tabpanel","aria-labelledby":"home-tab"},V={key:0,class:"alert alert-danger alert-dismissible",role:"alert"},j=i("button",{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"},null,-1),L={class:"mb-3"},U=r("Nomor HP"),P={key:0,class:"text-danger"},O={class:"mb-3"},z=r("Password"),H={key:0,class:"text-danger"},M={class:"mb-3"},N=r("Latitude"),T={class:"mb-3"},q=r("Longitude"),A=i("button",{class:"btn btn-outline-primary"},[i("i",{class:"bi bi-box-arrow-in-right"}),r(" Login ")],-1),B={key:1};f.render=function(a,e,o,t,s,g){const f=l("lable");return t.user.loc?(n(),d("div",h,[i("div",y,[i("div",_,[i("div",k,[i("div",w,[x,i("div",I,[i("div",S,[i("div",C,[t.validation.message?(n(),d("div",V,[r(c(t.validation.message)+" ",1),j])):u("",!0),i("form",{onSubmit:e[5]||(e[5]=m((a=>t.login()),["prevent"]))},[i("div",L,[i(f,{class:"form-lable"},{default:p((()=>[U])),_:1}),b(i("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=a=>t.user.nomor_hp=a)},null,512),[[v,t.user.nomor_hp]]),t.validation.nomor_hp?(n(),d("div",P,c(t.validation.nomor_hp[0]),1)):u("",!0)]),i("div",O,[i(f,{class:"form-lable"},{default:p((()=>[z])),_:1}),b(i("input",{type:"password",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=a=>t.user.password=a)},null,512),[[v,t.user.password]]),t.validation.password?(n(),d("div",H,c(t.validation.password[0]),1)):u("",!0)]),i("div",M,[i(f,{class:"form-lable"},{default:p((()=>[N])),_:1}),b(i("input",{type:"hidden",class:"form-control","onUpdate:modelValue":e[3]||(e[3]=a=>t.user.latitude=a),readonly:""},null,512),[[v,t.user.latitude]])]),i("div",T,[i(f,{class:"form-lable"},{default:p((()=>[q])),_:1}),b(i("input",{type:"hidden",class:"form-control","onUpdate:modelValue":e[4]||(e[4]=a=>t.user.longitude=a),readonly:""},null,512),[[v,t.user.longitude]])]),A],32)])])])])])])])])):(n(),d("div",B,"Mohon Izinkan akses lokasi ðŸ˜¢"))};export default f;
